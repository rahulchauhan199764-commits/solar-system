<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NASA Solar System Explorer 4D - Real-Time Simulation</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@300;400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Rajdhani', sans-serif;
            background: #000;
            overflow: hidden;
            height: 100vh;
            color: #fff;
            cursor: grab;
            position: relative;
        }
        
        body:active {
            cursor: grabbing;
        }
        
        /* Deep Space Background */
        #universe {
            position: relative;
            width: 100vw;
            height: 100vh;
            perspective: 3000px;
            overflow: hidden;
            background: 
                radial-gradient(ellipse at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 40% 80%, rgba(120, 219, 255, 0.3) 0%, transparent 50%),
                linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 25%, #16213e 50%, #0f0f23 75%, #000 100%);
        }
        
        /* Nebula Effects */
        .nebula {
            position: absolute;
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.1;
            animation: nebulaFloat 60s ease-in-out infinite alternate;
        }
        
        .nebula1 {
            width: 800px;
            height: 600px;
            background: radial-gradient(circle, rgba(138, 43, 226, 0.4) 0%, transparent 70%);
            top: -200px;
            left: -300px;
        }
        
        .nebula2 {
            width: 1000px;
            height: 800px;
            background: radial-gradient(circle, rgba(30, 144, 255, 0.3) 0%, transparent 70%);
            bottom: -400px;
            right: -500px;
            animation-delay: -30s;
        }
        
        .nebula3 {
            width: 600px;
            height: 400px;
            background: radial-gradient(circle, rgba(255, 20, 147, 0.2) 0%, transparent 70%);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation-delay: -45s;
        }
        
        @keyframes nebulaFloat {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); }
            33% { transform: translate(50px, -30px) rotate(120deg) scale(1.1); }
            66% { transform: translate(-30px, 40px) rotate(240deg) scale(0.9); }
            100% { transform: translate(20px, -20px) rotate(360deg) scale(1.05); }
        }
        
        #solarSystem {
            position: absolute;
            width: 400%;
            height: 400%;
            top: -150%;
            left: -150%;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        /* Realistic Celestial Bodies */
        .celestial-body {
            position: absolute;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-style: preserve-3d;
            box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.8);
        }
        
        .celestial-body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, transparent 50%, rgba(0, 0, 0, 0.5) 100%);
            pointer-events: none;
        }
        
        .celestial-body:hover {
            filter: brightness(1.4) saturate(1.3) drop-shadow(0 0 30px currentColor);
            transform: scale(1.2);
            z-index: 100;
        }
        
        /* Ultra-Realistic Sun */
        #sun {
            width: 140px;
            height: 140px;
            background: 
                radial-gradient(circle at 30% 30%, #fff9c4 0%, #ffeb3b 15%, #ff9800 40%, #ff5722 70%, #d84315 85%, #bf360c 100%);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 
                0 0 100px #ffeb3b,
                0 0 200px #ff9800,
                0 0 300px rgba(255, 152, 0, 0.4),
                0 0 400px rgba(255, 87, 34, 0.2),
                inset 0 0 100px rgba(255, 255, 255, 0.1);
            animation: solarActivity 4s ease-in-out infinite alternate;
            position: relative;
        }
        
        #sun::after {
            content: '';
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255, 235, 59, 0.3) 0%, transparent 70%);
            animation: coronaFlicker 6s ease-in-out infinite alternate;
        }
        
        @keyframes solarActivity {
            0% { 
                box-shadow: 
                    0 0 100px #ffeb3b,
                    0 0 200px #ff9800,
                    0 0 300px rgba(255, 152, 0, 0.4),
                    0 0 400px rgba(255, 87, 34, 0.2);
            }
            100% { 
                box-shadow: 
                    0 0 140px #ffeb3b,
                    0 0 280px #ff9800,
                    0 0 420px rgba(255, 152, 0, 0.6),
                    0 0 560px rgba(255, 87, 34, 0.3);
            }
        }
        
        @keyframes coronaFlicker {
            0% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 0.9; transform: scale(1.1); }
            100% { opacity: 0.7; transform: scale(1.05); }
        }
        
        /* Ultra-Realistic Planets */
        #mercury {
            width: 24px;
            height: 24px;
            background: 
                radial-gradient(circle at 25% 25%, #b8a082 0%, #8c7853 30%, #6d5d42 60%, #4a3f2f 100%);
            animation: orbit-mercury 15s linear infinite;
            transform-origin: 200px 0;
            box-shadow: 
                inset -8px -8px 15px rgba(0, 0, 0, 0.8),
                inset 3px 3px 8px rgba(255, 255, 255, 0.1);
        }
        
        #venus {
            width: 32px;
            height: 32px;
            background: 
                radial-gradient(circle at 30% 25%, #fff3a0 0%, #ffc649 20%, #ff8f00 50%, #e65100 80%, #bf360c 100%);
            animation: orbit-venus 25s linear infinite;
            transform-origin: 280px 0;
            box-shadow: 
                0 0 25px rgba(255, 198, 73, 0.6),
                inset -10px -10px 20px rgba(0, 0, 0, 0.7),
                inset 4px 4px 10px rgba(255, 255, 255, 0.2);
        }
        
        #earth {
            width: 36px;
            height: 36px;
            background: 
                radial-gradient(circle at 30% 25%, #87ceeb 0%, #4fc3f7 20%, #2196f3 40%, #1976d2 60%, #0d47a1 80%, #1a237e 100%);
            animation: orbit-earth 35s linear infinite;
            transform-origin: 360px 0;
            position: relative;
            box-shadow: 
                0 0 30px rgba(79, 195, 247, 0.5),
                inset -12px -12px 25px rgba(0, 0, 0, 0.6),
                inset 5px 5px 12px rgba(255, 255, 255, 0.3);
        }
        
        #earth::before {
            background: 
                linear-gradient(45deg, 
                    transparent 20%, 
                    rgba(76, 175, 80, 0.8) 25%, 
                    transparent 30%,
                    transparent 40%,
                    rgba(139, 69, 19, 0.6) 45%,
                    transparent 50%,
                    rgba(76, 175, 80, 0.7) 60%,
                    transparent 70%
                );
        }
        
        #moon {
            width: 10px;
            height: 10px;
            background: 
                radial-gradient(circle at 30% 30%, #f5f5f5 0%, #e0e0e0 30%, #9e9e9e 70%, #616161 100%);
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            animation: orbit-moon 8s linear infinite;
            transform-origin: 0 48px;
            box-shadow: 
                inset -4px -4px 8px rgba(0, 0, 0, 0.8),
                inset 2px 2px 4px rgba(255, 255, 255, 0.4);
        }
        
        #mars {
            width: 30px;
            height: 30px;
            background: 
                radial-gradient(circle at 25% 25%, #ff8a65 0%, #ff7043 20%, #d84315 50%, #bf360c 80%, #8d2f0a 100%);
            animation: orbit-mars 50s linear infinite;
            transform-origin: 460px 0;
            box-shadow: 
                0 0 20px rgba(255, 112, 67, 0.4),
                inset -10px -10px 20px rgba(0, 0, 0, 0.7),
                inset 4px 4px 10px rgba(255, 255, 255, 0.2);
        }
        
        #mars::before {
            background: 
                linear-gradient(30deg, 
                    transparent 30%, 
                    rgba(139, 69, 19, 0.6) 35%, 
                    transparent 40%,
                    transparent 60%,
                    rgba(255, 255, 255, 0.1) 65%,
                    transparent 70%
                );
        }
        
        #jupiter {
            width: 100px;
            height: 100px;
            background: 
                radial-gradient(circle at 30% 25%, #ffcc80 0%, #ffb74d 15%, #ff9800 35%, #f57c00 60%, #e65100 85%, #bf360c 100%);
            animation: orbit-jupiter 80s linear infinite;
            transform-origin: 640px 0;
            box-shadow: 
                0 0 60px rgba(255, 183, 77, 0.4),
                inset -30px -30px 60px rgba(0, 0, 0, 0.6),
                inset 15px 15px 30px rgba(255, 255, 255, 0.2);
            position: relative;
        }
        
        #jupiter::before {
            background: 
                repeating-linear-gradient(0deg,
                    transparent 0%,
                    rgba(255, 152, 0, 0.3) 10%,
                    transparent 15%,
                    rgba(191, 54, 12, 0.4) 25%,
                    transparent 30%,
                    rgba(255, 183, 77, 0.3) 40%,
                    transparent 45%
                );
        }
        
        #jupiter::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 18px;
            background: radial-gradient(ellipse, #d84315 0%, #bf360c 50%, #8d2f0a 100%);
            border-radius: 50%;
            top: 35%;
            left: 60%;
            box-shadow: 0 0 10px rgba(216, 67, 21, 0.8);
        }
        
        #saturn {
            width: 85px;
            height: 85px;
            background: 
                radial-gradient(circle at 30% 25%, #fff9c4 0%, #fff176 15%, #ffeb3b 35%, #ffc107 60%, #ff8f00 85%, #f57c00 100%);
            animation: orbit-saturn 120s linear infinite;
            transform-origin: 800px 0;
            position: relative;
            box-shadow: 
                0 0 50px rgba(255, 241, 118, 0.4),
                inset -25px -25px 50px rgba(0, 0, 0, 0.5),
                inset 12px 12px 25px rgba(255, 255, 255, 0.3);
        }
        
        .saturn-rings {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotateX(75deg);
            pointer-events: none;
        }
        
        .saturn-ring {
            position: absolute;
            border-radius: 50%;
            border: 2px solid;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .saturn-ring:nth-child(1) {
            width: 130px;
            height: 130px;
            border-color: rgba(255, 193, 7, 0.8);
            box-shadow: 0 0 10px rgba(255, 193, 7, 0.4);
        }
        
        .saturn-ring:nth-child(2) {
            width: 145px;
            height: 145px;
            border-color: rgba(255, 235, 59, 0.6);
            box-shadow: 0 0 8px rgba(255, 235, 59, 0.3);
        }
        
        .saturn-ring:nth-child(3) {
            width: 160px;
            height: 160px;
            border-color: rgba(255, 241, 118, 0.4);
            box-shadow: 0 0 6px rgba(255, 241, 118, 0.2);
        }
        
        #uranus {
            width: 55px;
            height: 55px;
            background: 
                radial-gradient(circle at 30% 25%, #b3e5fc 0%, #4dd0e1 20%, #00bcd4 50%, #0097a7 80%, #006064 100%);
            animation: orbit-uranus 180s linear infinite;
            transform-origin: 980px 0;
            box-shadow: 
                0 0 35px rgba(77, 208, 225, 0.5),
                inset -18px -18px 35px rgba(0, 0, 0, 0.6),
                inset 8px 8px 18px rgba(255, 255, 255, 0.3);
        }
        
        #neptune {
            width: 52px;
            height: 52px;
            background: 
                radial-gradient(circle at 30% 25%, #7986cb 0%, #3f51b5 20%, #303f9f 50%, #1a237e 80%, #0d1142 100%);
            animation: orbit-neptune 250s linear infinite;
            transform-origin: 1160px 0;
            box-shadow: 
                0 0 40px rgba(63, 81, 181, 0.5),
                inset -18px -18px 35px rgba(0, 0, 0, 0.7),
                inset 8px 8px 18px rgba(255, 255, 255, 0.2);
        }
        
        /* Enhanced Asteroid Belt */
        .asteroid {
            width: 4px;
            height: 4px;
            background: 
                radial-gradient(circle, #8d6e63 0%, #5d4037 50%, #3e2723 100%);
            border-radius: 50%;
            position: absolute;
            animation: orbit-asteroid 60s linear infinite;
            box-shadow: 
                0 0 2px rgba(141, 110, 99, 0.6),
                inset -1px -1px 2px rgba(0, 0, 0, 0.8);
        }
        
        .asteroid:nth-child(odd) {
            background: radial-gradient(circle, #a1887f 0%, #6d4c41 50%, #4e342e 100%);
            animation-duration: 65s;
        }
        
        .asteroid:nth-child(3n) {
            background: radial-gradient(circle, #795548 0%, #5d4037 50%, #3e2723 100%);
            animation-duration: 70s;
            width: 3px;
            height: 3px;
        }
        
        /* Enhanced Comets */
        .comet {
            width: 6px;
            height: 6px;
            background: 
                radial-gradient(circle, #e1f5fe 0%, #b3e5fc 50%, #81d4fa 100%);
            border-radius: 50%;
            position: absolute;
            animation: comet-orbit 200s linear infinite;
            box-shadow: 
                -15px 0 20px rgba(225, 245, 254, 0.8),
                -30px 0 40px rgba(179, 229, 252, 0.4),
                0 0 8px rgba(225, 245, 254, 0.9);
        }
        
        .comet::before {
            content: '';
            position: absolute;
            width: 40px;
            height: 2px;
            background: linear-gradient(90deg, rgba(225, 245, 254, 0.8) 0%, transparent 100%);
            top: 50%;
            right: 6px;
            transform: translateY(-50%);
            filter: blur(1px);
        }
        
        /* Realistic Orbit Paths */
        .orbit-path {
            position: absolute;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 50%;
            pointer-events: none;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 
                0 0 2px rgba(255, 255, 255, 0.1),
                inset 0 0 2px rgba(255, 255, 255, 0.05);
        }
        
        #mercury-orbit { width: 400px; height: 400px; }
        #venus-orbit { width: 560px; height: 560px; }
        #earth-orbit { width: 720px; height: 720px; }
        #mars-orbit { width: 920px; height: 920px; }
        #jupiter-orbit { width: 1280px; height: 1280px; }
        #saturn-orbit { width: 1600px; height: 1600px; }
        #uranus-orbit { width: 1960px; height: 1960px; }
        #neptune-orbit { width: 2320px; height: 2320px; }
        
        /* Enhanced Star Field */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 4s ease-in-out infinite alternate;
        }
        
        .star.small { 
            width: 1px; 
            height: 1px; 
            box-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
        }
        
        .star.medium { 
            width: 2px; 
            height: 2px; 
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.9);
        }
        
        .star.large { 
            width: 3px; 
            height: 3px; 
            box-shadow: 0 0 6px rgba(255, 255, 255, 1);
        }
        
        .star.giant {
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #fff 0%, #e3f2fd 50%, #bbdefb 100%);
            box-shadow: 0 0 10px rgba(255, 255, 255, 1);
        }
        
        /* Orbital Animations */
        @keyframes orbit-mercury {
            0% { transform: rotate(0deg) translateX(200px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(200px) rotate(-360deg); }
        }
        
        @keyframes orbit-venus {
            0% { transform: rotate(0deg) translateX(280px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(280px) rotate(-360deg); }
        }
        
        @keyframes orbit-earth {
            0% { transform: rotate(0deg) translateX(360px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(360px) rotate(-360deg); }
        }
        
        @keyframes orbit-moon {
            0% { transform: translateX(-50%) rotate(0deg) translateX(30px) rotate(0deg); }
            100% { transform: translateX(-50%) rotate(360deg) translateX(30px) rotate(-360deg); }
        }
        
        @keyframes orbit-mars {
            0% { transform: rotate(0deg) translateX(460px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(460px) rotate(-360deg); }
        }
        
        @keyframes orbit-jupiter {
            0% { transform: rotate(0deg) translateX(640px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(640px) rotate(-360deg); }
        }
        
        @keyframes orbit-saturn {
            0% { transform: rotate(0deg) translateX(800px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(800px) rotate(-360deg); }
        }
        
        @keyframes orbit-uranus {
            0% { transform: rotate(0deg) translateX(980px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(980px) rotate(-360deg); }
        }
        
        @keyframes orbit-neptune {
            0% { transform: rotate(0deg) translateX(1160px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(1160px) rotate(-360deg); }
        }
        
        @keyframes orbit-asteroid {
            0% { transform: rotate(0deg) translateX(550px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(550px) rotate(-360deg); }
        }
        
        @keyframes comet-orbit {
            0% { transform: rotate(0deg) translateX(1400px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(1400px) rotate(-360deg); }
        }
        
        @keyframes twinkle {
            0% { opacity: 0.4; transform: scale(1); }
            100% { opacity: 1; transform: scale(1.3); }
        }
        
        /* NASA-Style UI */
        .nasa-panel {
            position: fixed;
            background: 
                linear-gradient(135deg, 
                    rgba(0, 20, 40, 0.95) 0%, 
                    rgba(0, 30, 60, 0.9) 50%, 
                    rgba(0, 15, 35, 0.95) 100%);
            border: 2px solid #00d4ff;
            border-radius: 15px;
            backdrop-filter: blur(20px);
            box-shadow: 
                0 8px 32px rgba(0, 212, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            z-index: 1000;
        }
        
        #missionControl {
            top: 20px;
            left: 20px;
            padding: 25px;
            max-width: 320px;
        }
        
        .panel-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 212, 255, 0.3);
        }
        
        .nasa-logo {
            width: 40px;
            height: 40px;
            background: 
                radial-gradient(circle, #ff0000 0%, #cc0000 50%, #990000 100%);
            border-radius: 50%;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 18px;
            color: white;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .panel-title {
            font-family: 'Orbitron', monospace;
            font-size: 16px;
            font-weight: 700;
            color: #00d4ff;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .control-section {
            margin-bottom: 25px;
        }
        
        .section-title {
            color: #00d4ff;
            font-family: 'Orbitron', monospace;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
        }
        
        .section-title::before {
            content: '';
            width: 4px;
            height: 4px;
            background: #00d4ff;
            border-radius: 50%;
            margin-right: 8px;
            box-shadow: 0 0 6px #00d4ff;
        }
        
        .control-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }
        
        .nasa-btn {
            background: 
                linear-gradient(145deg, 
                    rgba(0, 212, 255, 0.2) 0%, 
                    rgba(0, 150, 200, 0.3) 50%, 
                    rgba(0, 100, 150, 0.2) 100%);
            border: 1px solid rgba(0, 212, 255, 0.5);
            color: #ffffff;
            padding: 10px 8px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .nasa-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .nasa-btn:hover {
            background: 
                linear-gradient(145deg, 
                    rgba(0, 212, 255, 0.4) 0%, 
                    rgba(0, 180, 220, 0.5) 50%, 
                    rgba(0, 120, 170, 0.4) 100%);
            border-color: #00d4ff;
            box-shadow: 
                0 4px 15px rgba(0, 212, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .nasa-btn:hover::before {
            left: 100%;
        }
        
        .nasa-btn.active {
            background: 
                linear-gradient(145deg, 
                    rgba(255, 193, 7, 0.3) 0%, 
                    rgba(255, 152, 0, 0.4) 50%, 
                    rgba(245, 124, 0, 0.3) 100%);
            border-color: #ffc107;
            color: #000;
            font-weight: 700;
            box-shadow: 
                0 0 20px rgba(255, 193, 7, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
        
        /* Real-Time Data Panel */
        #dataPanel {
            top: 20px;
            right: 20px;
            padding: 25px;
            max-width: 350px;
        }
        
        .data-display {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .data-label {
            color: #00d4ff;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .data-value {
            color: #ffffff;
            font-size: 16px;
            font-weight: 700;
            font-family: 'Orbitron', monospace;
        }
        
        .live-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #4caf50;
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 2s ease-in-out infinite;
            box-shadow: 0 0 10px #4caf50;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }
        
        /* Time Control Panel */
        #timeControl {
            bottom: 20px;
            right: 20px;
            padding: 20px;
            max-width: 280px;
        }
        
        .time-slider {
            width: 100%;
            height: 6px;
            background: rgba(0, 212, 255, 0.2);
            border-radius: 3px;
            outline: none;
            margin: 15px 0;
            -webkit-appearance: none;
        }
        
        .time-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: 
                radial-gradient(circle, #00d4ff 0%, #0096c7 50%, #006494 100%);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }
        
        /* Enhanced Modal */
        #planetModal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            z-index: 3000;
            backdrop-filter: blur(30px);
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: 
                linear-gradient(135deg, 
                    rgba(0, 20, 40, 0.98) 0%, 
                    rgba(0, 30, 60, 0.95) 50%, 
                    rgba(0, 15, 35, 0.98) 100%);
            border: 3px solid #00d4ff;
            border-radius: 25px;
            padding: 40px;
            max-width: 95vw;
            max-height: 95vh;
            overflow-y: auto;
            box-shadow: 
                0 25px 80px rgba(0, 0, 0, 0.8),
                0 0 100px rgba(0, 212, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(0, 212, 255, 0.3);
        }
        
        .modal-title {
            font-family: 'Orbitron', monospace;
            font-size: 36px;
            font-weight: 900;
            background: linear-gradient(45deg, #00d4ff, #0096c7, #006494);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: #ff4444;
            font-size: 36px;
            cursor: pointer;
            padding: 15px;
            border-radius: 50%;
            transition: all 0.3s ease;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-modal:hover {
            background: rgba(255, 68, 68, 0.2);
            transform: rotate(90deg) scale(1.1);
            box-shadow: 0 0 20px rgba(255, 68, 68, 0.5);
        }
        
        .planet-3d-showcase {
            width: 250px;
            height: 250px;
            margin: 0 auto 40px;
            border-radius: 50%;
            position: relative;
            animation: planetShowcase 15s linear infinite;
            box-shadow: 
                0 0 100px rgba(0, 212, 255, 0.3),
                inset 0 0 100px rgba(0, 0, 0, 0.5);
        }
        
        @keyframes planetShowcase {
            0% { transform: rotateY(0deg) rotateX(10deg); }
            100% { transform: rotateY(360deg) rotateX(10deg); }
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .info-card {
            background: 
                linear-gradient(135deg, 
                    rgba(0, 212, 255, 0.1) 0%, 
                    rgba(0, 150, 200, 0.05) 100%);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
        }
        
        .info-card h5 {
            color: #00d4ff;
            font-family: 'Orbitron', monospace;
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
        }
        
        .info-card h5::before {
            content: '';
            width: 6px;
            height: 6px;
            background: #00d4ff;
            border-radius: 50%;
            margin-right: 10px;
            box-shadow: 0 0 10px #00d4ff;
        }
        
        .fact-list {
            list-style: none;
            padding: 0;
        }
        
        .fact-list li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(0, 212, 255, 0.1);
            font-size: 14px;
            line-height: 1.6;
            display: flex;
            justify-content: space-between;
        }
        
        .fact-list li:last-child {
            border-bottom: none;
        }
        
        .fact-label {
            color: #b3e5fc;
            font-weight: 600;
        }
        
        .fact-value {
            color: #00d4ff;
            font-weight: 700;
            font-family: 'Orbitron', monospace;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .nasa-panel {
                max-width: 280px;
                padding: 15px;
            }
            
            .modal-content {
                padding: 20px;
                margin: 10px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .control-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Loading Animation */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: 
                linear-gradient(135deg, #000 0%, #1a1a2e 50%, #000 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 5000;
            transition: opacity 1s ease;
        }
        
        .loading-logo {
            font-family: 'Orbitron', monospace;
            font-size: 48px;
            font-weight: 900;
            color: #00d4ff;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 3px;
            animation: logoGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes logoGlow {
            0% { text-shadow: 0 0 20px #00d4ff; }
            100% { text-shadow: 0 0 40px #00d4ff, 0 0 60px #0096c7; }
        }
        
        .loading-bar {
            width: 300px;
            height: 4px;
            background: rgba(0, 212, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .loading-progress {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #0096c7, #006494);
            border-radius: 2px;
            animation: loadingProgress 3s ease-out forwards;
        }
        
        @keyframes loadingProgress {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        
        .loading-text {
            color: #b3e5fc;
            font-family: 'Rajdhani', sans-serif;
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">NASA Solar Explorer</div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
        <div class="loading-text">Initializing Real-Time Simulation...</div>
    </div>

    <div id="universe">
        <!-- Nebula Effects -->
        <div class="nebula nebula1"></div>
        <div class="nebula nebula2"></div>
        <div class="nebula nebula3"></div>
        
        <div id="solarSystem">
            <!-- Enhanced Star Field -->
            <div class="star small" style="top: 5%; left: 10%; animation-delay: 0s;"></div>
            <div class="star medium" style="top: 15%; left: 85%; animation-delay: 1s;"></div>
            <div class="star large" style="top: 25%; left: 20%; animation-delay: 2s;"></div>
            <div class="star giant" style="top: 35%; left: 75%; animation-delay: 0.5s;"></div>
            <div class="star small" style="top: 45%; left: 45%; animation-delay: 1.5s;"></div>
            <div class="star medium" style="top: 55%; left: 90%; animation-delay: 2.5s;"></div>
            <div class="star large" style="top: 65%; left: 15%; animation-delay: 3s;"></div>
            <div class="star small" style="top: 75%; left: 60%; animation-delay: 0.8s;"></div>
            <div class="star giant" style="top: 85%; left: 30%; animation-delay: 1.8s;"></div>
            <div class="star medium" style="top: 95%; left: 80%; animation-delay: 2.2s;"></div>
            <div class="star small" style="top: 8%; left: 55%; animation-delay: 3.5s;"></div>
            <div class="star large" style="top: 18%; left: 40%; animation-delay: 0.3s;"></div>
            <div class="star medium" style="top: 28%; left: 95%; animation-delay: 1.3s;"></div>
            <div class="star giant" style="top: 38%; left: 5%; animation-delay: 2.8s;"></div>
            <div class="star small" style="top: 48%; left: 70%; animation-delay: 0.7s;"></div>
            
            <!-- Orbit Paths -->
            <div class="orbit-path" id="mercury-orbit"></div>
            <div class="orbit-path" id="venus-orbit"></div>
            <div class="orbit-path" id="earth-orbit"></div>
            <div class="orbit-path" id="mars-orbit"></div>
            <div class="orbit-path" id="jupiter-orbit"></div>
            <div class="orbit-path" id="saturn-orbit"></div>
            <div class="orbit-path" id="uranus-orbit"></div>
            <div class="orbit-path" id="neptune-orbit"></div>
            
            <!-- Sun -->
            <div class="celestial-body" id="sun" data-body="sun"></div>
            
            <!-- Planets -->
            <div class="celestial-body" id="mercury" data-body="mercury" style="top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
            <div class="celestial-body" id="venus" data-body="venus" style="top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
            <div class="celestial-body" id="earth" data-body="earth" style="top: 50%; left: 50%; transform: translate(-50%, -50%);">
                <div class="celestial-body" id="moon" data-body="moon"></div>
            </div>
            <div class="celestial-body" id="mars" data-body="mars" style="top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
            
            <!-- Enhanced Asteroid Belt -->
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(0deg) translateX(550px); animation-delay: 0s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(30deg) translateX(560px); animation-delay: 5s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(60deg) translateX(540px); animation-delay: 10s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(90deg) translateX(570px); animation-delay: 15s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(120deg) translateX(545px); animation-delay: 20s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(150deg) translateX(565px); animation-delay: 25s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(180deg) translateX(555px); animation-delay: 30s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(210deg) translateX(550px); animation-delay: 35s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(240deg) translateX(560px); animation-delay: 40s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(270deg) translateX(545px); animation-delay: 45s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(300deg) translateX(565px); animation-delay: 50s;"></div>
            <div class="asteroid" style="top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(330deg) translateX(555px); animation-delay: 55s;"></div>
            
            <div class="celestial-body" id="jupiter" data-body="jupiter" style="top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
            <div class="celestial-body" id="saturn" data-body="saturn" style="top: 50%; left: 50%; transform: translate(-50%, -50%);">
                <div class="saturn-rings">
                    <div class="saturn-ring"></div>
                    <div class="saturn-ring"></div>
                    <div class="saturn-ring"></div>
                </div>
            </div>
            <div class="celestial-body" id="uranus" data-body="uranus" style="top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
            <div class="celestial-body" id="neptune" data-body="neptune" style="top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
            
            <!-- Enhanced Comets -->
            <div class="comet" style="top: 20%; left: 15%; transform: rotate(45deg) translateX(1400px); animation-delay: 0s;"></div>
            <div class="comet" style="top: 80%; left: 85%; transform: rotate(225deg) translateX(1500px); animation-delay: 100s;"></div>
            <div class="comet" style="top: 60%; left: 10%; transform: rotate(135deg) translateX(1300px); animation-delay: 150s;"></div>
        </div>
    </div>
    
    <!-- NASA Mission Control Panel -->
    <div class="nasa-panel" id="missionControl">
        <div class="panel-header">
            <div class="nasa-logo">N</div>
            <div class="panel-title">Mission Control</div>
        </div>
        
        <div class="control-section">
            <div class="section-title">🚀 Navigation</div>
            <div class="control-grid">
                <button class="nasa-btn" id="zoomIn">Zoom In</button>
                <button class="nasa-btn" id="zoomOut">Zoom Out</button>
                <button class="nasa-btn" id="resetView">Reset</button>
            </div>
        </div>
        
        <div class="control-section">
            <div class="section-title">🎯 Target Lock</div>
            <div class="control-grid">
                <button class="nasa-btn" data-focus="sun">Sun</button>
                <button class="nasa-btn" data-focus="mercury">Mercury</button>
                <button class="nasa-btn" data-focus="venus">Venus</button>
                <button class="nasa-btn" data-focus="earth">Earth</button>
                <button class="nasa-btn" data-focus="mars">Mars</button>
                <button class="nasa-btn" data-focus="jupiter">Jupiter</button>
                <button class="nasa-btn" data-focus="saturn">Saturn</button>
                <button class="nasa-btn" data-focus="uranus">Uranus</button>
                <button class="nasa-btn" data-focus="neptune">Neptune</button>
            </div>
        </div>
        
        <div class="control-section">
            <div class="section-title">⚙️ Display Options</div>
            <div class="control-grid">
                <button class="nasa-btn active" id="toggleOrbits">Orbits</button>
                <button class="nasa-btn active" id="toggleAsteroids">Asteroids</button>
                <button class="nasa-btn active" id="toggleComets">Comets</button>
            </div>
        </div>
    </div>
    
    <!-- Real-Time Data Panel -->
    <div class="nasa-panel" id="dataPanel">
        <div class="panel-header">
            <div class="panel-title">
                <span class="live-indicator"></span>Real-Time Data
            </div>
        </div>
        
        <div class="data-display">
            <div class="data-label">Current Target</div>
            <div class="data-value" id="currentTarget">Solar System Overview</div>
        </div>
        
        <div class="data-display">
            <div class="data-label">Simulation Speed</div>
            <div class="data-value" id="simSpeed">1.0x Real Time</div>
        </div>
        
        <div class="data-display">
            <div class="data-label">View Distance</div>
            <div class="data-value" id="viewDistance">4.5 Billion km</div>
        </div>
        
        <div class="data-display">
            <div class="data-label">Active Objects</div>
            <div class="data-value" id="activeObjects">8 Planets, 1 Moon, 12 Asteroids, 3 Comets</div>
        </div>
        
        <div style="font-size: 11px; color: #b3e5fc; margin-top: 15px; line-height: 1.4;">
            <strong>Mission Status:</strong> All systems operational. Click any celestial body for detailed analysis and 4D visualization.
        </div>
    </div>
    
    <!-- Time Control Panel -->
    <div class="nasa-panel" id="timeControl">
        <div class="panel-header">
            <div class="panel-title">⏱️ Temporal Control</div>
        </div>
        
        <div class="section-title">Simulation Speed</div>
        <input type="range" class="time-slider" id="speedSlider" min="0" max="5" step="0.1" value="1">
        
        <div class="time-display">
            <span style="color: #b3e5fc; font-size: 12px;">Paused</span>
            <span style="color: #00d4ff; font-weight: 700;" id="speedDisplay">1.0x</span>
            <span style="color: #b3e5fc; font-size: 12px;">5.0x Speed</span>
        </div>
        
        <button class="nasa-btn" id="pausePlay" style="width: 100%; margin-top: 15px;">⏸️ Pause</button>
    </div>
    
    <!-- Enhanced Planet Detail Modal -->
    <div id="planetModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Celestial Body Analysis</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            
            <div class="planet-3d-showcase" id="planet3D"></div>
            
            <div class="info-grid">
                <div class="info-card">
                    <h5>📊 Physical Properties</h5>
                    <ul class="fact-list" id="physicalProps"></ul>
                </div>
                
                <div class="info-card">
                    <h5>🌍 Orbital Mechanics</h5>
                    <ul class="fact-list" id="orbitalProps"></ul>
                </div>
                
                <div class="info-card">
                    <h5>🔬 Composition Analysis</h5>
                    <ul class="fact-list" id="composition"></ul>
                </div>
                
                <div class="info-card">
                    <h5>🚀 Exploration History</h5>
                    <ul class="fact-list" id="exploration"></ul>
                </div>
            </div>
            
            <div class="info-card">
                <h5>🌟 Scientific Discoveries</h5>
                <div id="fascinatingFacts"></div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced planetary data with real NASA specifications
        const celestialDatabase = {
            sun: {
                name: "Sol (The Sun)",
                type: "G2V Main Sequence Star",
                background: "radial-gradient(circle at 30% 30%, #fff9c4 0%, #ffeb3b 15%, #ff9800 40%, #ff5722 70%, #d84315 85%, #bf360c 100%)",
                physical: [
                    ["Mass", "1.989 × 10³⁰ kg"],
                    ["Diameter", "1,392,700 km"],
                    ["Surface Temperature", "5,778 K (5,505°C)"],
                    ["Core Temperature", "15,000,000 K"],
                    ["Luminosity", "3.828 × 10²⁶ watts"],
                    ["Age", "4.603 billion years"]
                ],
                orbital: [
                    ["Galactic Orbit Period", "225-250 million years"],
                    ["Rotation Period", "25.05 days (equator)"],
                    ["Solar Wind Speed", "400 km/s"],
                    ["Escape Velocity", "617.5 km/s"],
                    ["Spectral Classification", "G2V"],
                    ["Metallicity", "Z = 0.0122"]
                ],
                composition: [
                    ["Hydrogen", "73.46%"],
                    ["Helium", "24.85%"],
                    ["Oxygen", "0.77%"],
                    ["Carbon", "0.29%"],
                    ["Iron", "0.16%"],
                    ["Neon", "0.12%"]
                ],
                exploration: [
                    ["Parker Solar Probe", "Launched 2018, closest approach"],
                    ["Solar Orbiter", "ESA/NASA mission 2020"],
                    ["SOHO Observatory", "Continuous monitoring since 1996"],
                    ["SDO Mission", "Solar Dynamics Observatory"],
                    ["Helios Probes", "Record holders 1974-1976"],
                    ["Future Missions", "Solar Probe Plus extended mission"]
                ],
                facts: [
                    "The Sun converts 600 million tons of hydrogen into helium every second through nuclear fusion, releasing the energy equivalent of 100 billion hydrogen bombs.",
                    "Light from the Sun's core takes between 100,000 to 200,000 years to reach the surface due to constant absorption and re-emission, then just 8 minutes and 20 seconds to reach Earth.",
                    "The Sun's magnetic field is incredibly complex and dynamic, causing solar flares that can release energy equivalent to billions of atomic bombs and affect Earth's technology.",
                    "In approximately 5 billion years, the Sun will exhaust its hydrogen fuel and expand into a red giant, potentially engulfing Mercury, Venus, and possibly Earth before becoming a white dwarf."
                ]
            },
            mercury: {
                name: "Mercury",
                type: "Terrestrial Planet",
                background: "radial-gradient(circle at 25% 25%, #b8a082 0%, #8c7853 30%, #6d5d42 60%, #4a3f2f 100%)",
                physical: [
                    ["Mass", "3.301 × 10²³ kg (0.055 Earth masses)"],
                    ["Equatorial Diameter", "4,879 km (0.383 Earth diameters)"],
                    ["Density", "5.427 g/cm³ (second densest planet)"],
                    ["Surface Gravity", "3.7 m/s² (0.378 Earth gravity)"],
                    ["Escape Velocity", "4.25 km/s"],
                    ["Surface Area", "74.8 million km²"]
                ],
                orbital: [
                    ["Orbital Period", "87.97 Earth days"],
                    ["Rotation Period", "58.65 Earth days (2:3 resonance)"],
                    ["Semi-major Axis", "57.91 million km (0.387 AU)"],
                    ["Orbital Eccentricity", "0.2056 (most eccentric orbit)"],
                    ["Average Orbital Speed", "47.87 km/s"],
                    ["Axial Tilt", "0.034° (nearly zero)"]
                ],
                composition: [
                    ["Core Composition", "Large iron core (75% of radius)"],
                    ["Mantle", "Thin silicate mantle (~600 km)"],
                    ["Crust", "100-300 km thick, heavily cratered"],
                    ["Atmosphere", "Extremely thin exosphere"],
                    ["Magnetic Field", "~1% of Earth's strength"],
                    ["Water Ice", "Confirmed in polar craters"]
                ],
                exploration: [
                    ["Mariner 10", "First spacecraft flyby 1974-1975"],
                    ["MESSENGER", "Orbital mission 2011-2015"],
                    ["BepiColombo", "ESA/JAXA mission launched 2018"],
                    ["Future Missions", "Planned sample return missions"],
                    ["Ground Observation", "Difficult due to Sun proximity"],
                    ["Radar Studies", "Arecibo and Goldstone observations"]
                ],
                facts: [
                    "Mercury experiences the most extreme temperature variations in the solar system, with daytime temperatures reaching 427°C and nighttime temperatures dropping to -173°C due to its lack of atmosphere.",
                    "Despite being closest to the Sun, Mercury has water ice in permanently shadowed craters at its poles, discovered by NASA's MESSENGER mission through neutron spectrometry.",
                    "A solar day on Mercury (sunrise to sunrise) lasts 176 Earth days, which is exactly twice its orbital period due to a unique 3:2 spin-orbit resonance.",
                    "Mercury has a surprisingly strong magnetic field for its size, about 1% of Earth's strength, generated by its large liquid iron core that makes up 75% of the planet's radius."
                ]
            },
            venus: {
                name: "Venus",
                type: "Terrestrial Planet",
                background: "radial-gradient(circle at 30% 25%, #fff3a0 0%, #ffc649 20%, #ff8f00 50%, #e65100 80%, #bf360c 100%)",
                physical: [
                    ["Mass", "4.867 × 10²⁴ kg (0.815 Earth masses)"],
                    ["Equatorial Diameter", "12,104 km (0.949 Earth diameters)"],
                    ["Density", "5.243 g/cm³"],
                    ["Surface Gravity", "8.87 m/s² (0.904 Earth gravity)"],
                    ["Surface Pressure", "92 bar (92× Earth's pressure)"],
                    ["Escape Velocity", "10.36 km/s"]
                ],
                orbital: [
                    ["Orbital Period", "224.7 Earth days"],
                    ["Rotation Period", "243 Earth days (retrograde)"],
                    ["Semi-major Axis", "108.21 million km (0.723 AU)"],
                    ["Orbital Eccentricity", "0.0067 (most circular orbit)"],
                    ["Average Orbital Speed", "35.02 km/s"],
                    ["Axial Tilt", "177.4° (nearly upside down)"]
                ],
                composition: [
                    ["Atmosphere", "96.5% CO₂, 3.5% N₂"],
                    ["Surface Features", "Volcanic plains, impact craters"],
                    ["Core", "Iron-nickel, likely partially molten"],
                    ["Mantle", "Rocky silicate material"],
                    ["Cloud Composition", "Sulfuric acid droplets"],
                    ["Greenhouse Effect", "Extreme CO₂ atmosphere"]
                ],
                exploration: [
                    ["Venera Program", "Soviet missions 1961-1984"],
                    ["Magellan Mission", "NASA radar mapping 1990-1994"],
                    ["Venus Express", "ESA orbiter 2006-2014"],
                    ["Akatsuki", "Japanese climate orbiter 2015-present"],
                    ["Future Missions", "VERITAS, DAVINCI+, EnVision"],
                    ["Pioneer Venus", "NASA orbiter and probes 1978"]
                ],
                facts: [
                    "Venus is the hottest planet in the solar system with surface temperatures of 462°C, hot enough to melt lead, due to an extreme greenhouse effect caused by its thick CO₂ atmosphere.",
                    "A day on Venus (243 Earth days) is longer than its year (225 Earth days), and it rotates backwards compared to most planets, possibly due to a massive ancient collision.",
                    "The atmospheric pressure on Venus is 92 times that of Earth, equivalent to the pressure experienced 900 meters underwater in Earth's oceans.",
                    "Venus has over 1,600 major volcanoes and volcanic features, more than any other planet, with some potentially still active based on recent ESA Venus Express data."
                ]
            },
            earth: {
                name: "Earth (Terra)",
                type: "Terrestrial Planet",
                background: "radial-gradient(circle at 30% 25%, #87ceeb 0%, #4fc3f7 20%, #2196f3 40%, #1976d2 60%, #0d47a1 80%, #1a237e 100%)",
                physical: [
                    ["Mass", "5.972 × 10²⁴ kg"],
                    ["Equatorial Diameter", "12,756 km"],
                    ["Polar Diameter", "12,714 km (oblate spheroid)"],
                    ["Density", "5.514 g/cm³ (densest planet)"],
                    ["Surface Gravity", "9.807 m/s²"],
                    ["Escape Velocity", "11.19 km/s"]
                ],
                orbital: [
                    ["Orbital Period", "365.256 days (1 sidereal year)"],
                    ["Rotation Period", "23h 56m 4s (sidereal day)"],
                    ["Semi-major Axis", "149.598 million km (1 AU)"],
                    ["Orbital Eccentricity", "0.0167"],
                    ["Average Orbital Speed", "29.78 km/s"],
                    ["Axial Tilt", "23.44° (causes seasons)"]
                ],
                composition: [
                    ["Atmosphere", "78% N₂, 21% O₂, 1% other gases"],
                    ["Surface Coverage", "71% water, 29% land"],
                    ["Core", "Iron-nickel (solid inner, liquid outer)"],
                    ["Mantle", "Silicate rock and metal"],
                    ["Magnetic Field", "Dipolar, 25-65 μT at surface"],
                    ["Biosphere", "Only known planet with life"]
                ],
                exploration: [
                    ["Continuous Observation", "Satellites since 1957"],
                    ["International Space Station", "Permanent human presence"],
                    ["Earth Observation Fleet", "Weather and climate monitoring"],
                    ["Deep Space Missions", "Launch platform for exploration"],
                    ["Geological Surveys", "Comprehensive planetary mapping"],
                    ["Climate Monitoring", "Global environmental assessment"]
                ],
                facts: [
                    "Earth is the only known planet with liquid water on its surface and confirmed life, hosting an estimated 8.7 million species in a complex biosphere.",
                    "The planet's magnetic field, generated by the motion of molten iron in the outer core, protects us from harmful solar radiation and prevents atmospheric loss.",
                    "Earth's atmosphere not only provides breathable air but also protects us from meteorite impacts and maintains surface temperatures through the greenhouse effect.",
                    "The Moon, formed 4.5 billion years ago likely from debris after a Mars-sized impact, stabilizes Earth's axial tilt and creates tides that may have been crucial for early life."
                ]
            },
            moon: {
                name: "Luna (The Moon)",
                type: "Natural Satellite",
                background: "radial-gradient(circle at 30% 30%, #f5f5f5 0%, #e0e0e0 30%, #9e9e9e 70%, #616161 100%)",
                physical: [
                    ["Mass", "7.342 × 10²² kg (0.012 Earth masses)"],
                    ["Diameter", "3,474 km (0.273 Earth diameters)"],
                    ["Density", "3.344 g/cm³"],
                    ["Surface Gravity", "1.62 m/s² (0.166 Earth gravity)"],
                    ["Escape Velocity", "2.38 km/s"],
                    ["Surface Area", "37.9 million km²"]
                ],
                orbital: [
                    ["Orbital Period", "27.32 Earth days (sidereal)"],
                    ["Rotation Period", "27.32 days (tidally locked)"],
                    ["Distance from Earth", "384,400 km (average)"],
                    ["Orbital Speed", "1.022 km/s"],
                    ["Orbital Eccentricity", "0.0549"],
                    ["Recession Rate", "3.8 cm/year (moving away)"]
                ],
                composition: [
                    ["Crust", "Anorthosite highlands, basaltic maria"],
                    ["Mantle", "Olivine and pyroxene minerals"],
                    ["Core", "Small iron core (~350 km radius)"],
                    ["Surface Material", "Regolith (lunar soil)"],
                    ["Water Ice", "Confirmed in polar craters"],
                    ["Atmosphere", "Extremely thin exosphere"]
                ],
                exploration: [
                    ["Luna Program", "Soviet first soft landing 1966"],
                    ["Apollo Missions", "12 astronauts walked on Moon"],
                    ["Chang'e Program", "Chinese lunar exploration"],
                    ["Lunar Reconnaissance Orbiter", "Detailed mapping"],
                    ["Artemis Program", "Return humans to Moon"],
                    ["Future Bases", "Planned lunar settlements"]
                ],
                facts: [
                    "The Moon formed about 4.5 billion years ago from debris created when a Mars-sized object called Theia collided with the early Earth in the Giant Impact Hypothesis.",
                    "The Moon causes Earth's ocean tides through gravitational forces and is gradually slowing Earth's rotation while moving away at 3.8 cm per year.",
                    "We always see the same side of the Moon due to tidal locking, where its rotation period equals its orbital period around Earth.",
                    "Lunar surface temperatures range from 127°C in direct sunlight to -173°C in shadow, with no atmosphere to moderate temperature extremes."
                ]
            },
            mars: {
                name: "Mars",
                type: "Terrestrial Planet",
                background: "radial-gradient(circle at 25% 25%, #ff8a65 0%, #ff7043 20%, #d84315 50%, #bf360c 80%, #8d2f0a 100%)",
                physical: [
                    ["Mass", "6.39 × 10²³ kg (0.107 Earth masses)"],
                    ["Equatorial Diameter", "6,792 km (0.532 Earth diameters)"],
                    ["Density", "3.933 g/cm³"],
                    ["Surface Gravity", "3.71 m/s² (0.378 Earth gravity)"],
                    ["Escape Velocity", "5.03 km/s"],
                    ["Moons", "2 (Phobos and Deimos)"]
                ],
                orbital: [
                    ["Orbital Period", "686.98 Earth days (1.88 Earth years)"],
                    ["Rotation Period", "24h 37m 22s (sol)"],
                    ["Semi-major Axis", "227.92 million km (1.524 AU)"],
                    ["Orbital Eccentricity", "0.0934"],
                    ["Average Orbital Speed", "24.07 km/s"],
                    ["Axial Tilt", "25.19° (similar to Earth)"]
                ],
                composition: [
                    ["Atmosphere", "95% CO₂, 2.8% N₂, 2% Ar"],
                    ["Surface", "Iron oxide (rust) gives red color"],
                    ["Core", "Iron, nickel, sulfur"],
                    ["Polar Ice Caps", "Water and CO₂ ice"],
                    ["Largest Volcano", "Olympus Mons (21 km high)"],
                    ["Deepest Canyon", "Valles Marineris (7 km deep)"]
                ],
                exploration: [
                    ["Mariner 4", "First successful flyby 1965"],
                    ["Viking Missions", "First successful landers 1976"],
                    ["Mars Rovers", "Sojourner, Spirit, Opportunity, Curiosity, Perseverance"],
                    ["Mars Orbiters", "Continuous observation fleet"],
                    ["Sample Return", "Mars Sample Return mission planned"],
                    ["Human Missions", "Planned for 2030s"]
                ],
                facts: [
                    "Mars has the largest volcano in the solar system (Olympus Mons at 21 km high) and the deepest canyon (Valles Marineris stretching 4,000 km long and up to 7 km deep).",
                    "Evidence from rovers and orbiters suggests Mars once had liquid water, a thicker atmosphere, and potentially habitable conditions billions of years ago.",
                    "Mars experiences planet-wide dust storms that can last for months and cover the entire planet, affecting solar-powered missions like the Opportunity rover.",
                    "The planet's red color comes from iron oxide (rust) on its surface, created when iron-rich rocks were exposed to oxygen and water in Mars' ancient past."
                ]
            },
            jupiter: {
                name: "Jupiter",
                type: "Gas Giant",
                background: "radial-gradient(circle at 30% 25%, #ffcc80 0%, #ffb74d 15%, #ff9800 35%, #f57c00 60%, #e65100 85%, #bf360c 100%)",
                physical: [
                    ["Mass", "1.898 × 10²⁷ kg (317.8 Earth masses)"],
                    ["Equatorial Diameter", "142,984 km (11.2 Earth diameters)"],
                    ["Polar Diameter", "133,709 km (oblate due to rotation)"],
                    ["Density", "1.326 g/cm³ (less dense than water)"],
                    ["Surface Gravity", "24.79 m/s² (2.53 Earth gravity)"],
                    ["Confirmed Moons", "95 (4 major Galilean moons)"]
                ],
                orbital: [
                    ["Orbital Period", "11.86 Earth years"],
                    ["Rotation Period", "9h 56m (fastest in solar system)"],
                    ["Semi-major Axis", "778.57 million km (5.204 AU)"],
                    ["Orbital Eccentricity", "0.0489"],
                    ["Average Orbital Speed", "13.07 km/s"],
                    ["Great Red Spot", "Storm larger than Earth"]
                ],
                composition: [
                    ["Atmosphere", "89% H₂, 10% He, 1% other"],
                    ["Interior", "No solid surface (gas giant)"],
                    ["Core", "Possibly rocky/metallic (Earth-sized)"],
                    ["Magnetic Field", "20,000× stronger than Earth's"],
                    ["Ring System", "Faint rings discovered 1979"],
                    ["Cloud Bands", "Alternating light and dark zones"]
                ],
                exploration: [
                    ["Pioneer 10 & 11", "First flybys 1973-1974"],
                    ["Voyager 1 & 2", "Detailed studies 1979"],
                    ["Galileo Mission", "Orbited Jupiter 1995-2003"],
                    ["Juno Mission", "Current study of interior structure"],
                    ["Europa Clipper", "Future mission to Europa"],
                    ["JUICE Mission", "ESA mission to Jovian moons"]
                ],
                facts: [
                    "Jupiter is so massive (2.5 times all other planets combined) that it could contain over 1,300 Earths and acts as a 'cosmic vacuum cleaner,' protecting inner planets from asteroids and comets.",
                    "The Great Red Spot is an anticyclonic storm that has been raging for at least 400 years, with winds reaching 432 km/h and a size larger than Earth's diameter.",
                    "Jupiter's moon Europa likely contains twice as much water as Earth's oceans beneath its icy surface, making it a prime target in the search for extraterrestrial life.",
                    "Jupiter's powerful magnetic field, generated by metallic hydrogen in its interior, creates radiation belts so intense they would be lethal to humans and can damage spacecraft electronics."
                ]
            },
            saturn: {
                name: "Saturn",
                type: "Gas Giant",
                background: "radial-gradient(circle at 30% 25%, #fff9c4 0%, #fff176 15%, #ffeb3b 35%, #ffc107 60%, #ff8f00 85%, #f57c00 100%)",
                physical: [
                    ["Mass", "5.683 × 10²⁶ kg (95.2 Earth masses)"],
                    ["Equatorial Diameter", "120,536 km (9.4 Earth diameters)"],
                    ["Polar Diameter", "108,728 km (most oblate planet)"],
                    ["Density", "0.687 g/cm³ (would float in water)"],
                    ["Surface Gravity", "10.44 m/s² (1.07 Earth gravity)"],
                    ["Confirmed Moons", "146 (Titan larger than Mercury)"]
                ],
                orbital: [
                    ["Orbital Period", "29.46 Earth years"],
                    ["Rotation Period", "10h 42m"],
                    ["Semi-major Axis", "1.432 billion km (9.573 AU)"],
                    ["Orbital Eccentricity", "0.0565"],
                    ["Average Orbital Speed", "9.68 km/s"],
                    ["Axial Tilt", "26.73° (similar to Earth)"]
                ],
                composition: [
                    ["Atmosphere", "96% H₂, 3% He, 1% other"],
                    ["Interior", "No solid surface (gas giant)"],
                    ["Core", "Rock, ice, and metallic hydrogen"],
                    ["Ring System", "Extensive ice and rock particles"],
                    ["Hexagonal Storm", "Unique polar atmospheric feature"],
                    ["Magnetic Field", "578× stronger than Earth's"]
                ],
                exploration: [
                    ["Pioneer 11", "First flyby 1979"],
                    ["Voyager 1 & 2", "Ring discoveries 1980-1981"],
                    ["Cassini-Huygens", "13-year mission 2004-2017"],
                    ["Huygens Probe", "Landed on Titan 2005"],
                    ["Dragonfly Mission", "Future Titan helicopter 2027"],
                    ["Future Missions", "Proposed Enceladus life detection"]
                ],
                facts: [
                    "Saturn's rings are made of billions of ice and rock particles ranging from tiny grains to house-sized chunks, with a total mass less than Saturn's moon Mimas despite spanning 282,000 km.",
                    "Saturn is the least dense planet in the solar system - with a density of 0.687 g/cm³, it would theoretically float if there were an ocean large enough to hold it.",
                    "Titan, Saturn's largest moon, has a thick atmosphere and lakes of liquid methane and ethane, making it the only other body in the solar system with stable surface liquids.",
                    "Saturn has a mysterious hexagonal storm at its north pole, with each side of the hexagon larger than Earth's diameter - a unique atmospheric phenomenon in the solar system."
                ]
            },
            uranus: {
                name: "Uranus",
                type: "Ice Giant",
                background: "radial-gradient(circle at 30% 25%, #b3e5fc 0%, #4dd0e1 20%, #00bcd4 50%, #0097a7 80%, #006064 100%)",
                physical: [
                    ["Mass", "8.681 × 10²⁵ kg (14.5 Earth masses)"],
                    ["Equatorial Diameter", "51,118 km (4.0 Earth diameters)"],
                    ["Polar Diameter", "49,946 km"],
                    ["Density", "1.27 g/cm³"],
                    ["Surface Gravity", "8.69 m/s² (0.886 Earth gravity)"],
                    ["Confirmed Moons", "27 (5 major moons)"]
                ],
                orbital: [
                    ["Orbital Period", "84.01 Earth years"],
                    ["Rotation Period", "17h 14m (retrograde)"],
                    ["Semi-major Axis", "2.867 billion km (19.165 AU)"],
                    ["Orbital Eccentricity", "0.0444"],
                    ["Average Orbital Speed", "6.80 km/s"],
                    ["Axial Tilt", "97.77° (rotates on its side)"]
                ],
                composition: [
                    ["Atmosphere", "83% H₂, 15% He, 2% CH₄"],
                    ["Interior", "Water, methane, ammonia ices"],
                    ["Core", "Rock and ice (Earth-sized)"],
                    ["Magnetic Field", "Tilted 59° from rotational axis"],
                    ["Ring System", "Faint rings discovered 1977"],
                    ["Color", "Blue-green from methane absorption"]
                ],
                exploration: [
                    ["Discovery", "William Herschel 1781"],
                    ["Voyager 2", "Only spacecraft visit 1986"],
                    ["Hubble Space Telescope", "Ongoing atmospheric studies"],
                    ["Ground-based Telescopes", "Ring and moon discoveries"],
                    ["Future Missions", "Ice Giant Orbiter proposed"],
                    ["James Webb Telescope", "Atmospheric composition studies"]
                ],
                facts: [
                    "Uranus rotates on its side with an axial tilt of 97.77°, likely caused by a collision with an Earth-sized object billions of years ago, giving it the most extreme seasons in the solar system.",
                    "The planet's blue-green color comes from methane in its atmosphere, which absorbs red light and reflects blue and green wavelengths back to space.",
                    "Uranus experiences extreme seasons where each pole gets 42 years of continuous sunlight followed by 42 years of complete darkness during its 84-year orbit.",
                    "The planet's magnetic field is tilted 59° from its rotational axis and doesn't pass through the center, suggesting a unique internal structure different from other planets."
                ]
            },
            neptune: {
                name: "Neptune",
                type: "Ice Giant",
                background: "radial-gradient(circle at 30% 25%, #7986cb 0%, #3f51b5 20%, #303f9f 50%, #1a237e 80%, #0d1142 100%)",
                physical: [
                    ["Mass", "1.024 × 10²⁶ kg (17.1 Earth masses)"],
                    ["Equatorial Diameter", "49,528 km (3.9 Earth diameters)"],
                    ["Polar Diameter", "48,682 km"],
                    ["Density", "1.638 g/cm³"],
                    ["Surface Gravity", "11.15 m/s² (1.14 Earth gravity)"],
                    ["Confirmed Moons", "16 (Triton is largest)"]
                ],
                orbital: [
                    ["Orbital Period", "164.8 Earth years"],
                    ["Rotation Period", "16h 6m"],
                    ["Semi-major Axis", "4.515 billion km (30.178 AU)"],
                    ["Orbital Eccentricity", "0.0113"],
                    ["Average Orbital Speed", "5.43 km/s"],
                    ["Wind Speeds", "Up to 2,100 km/h (fastest in solar system)"]
                ],
                composition: [
                    ["Atmosphere", "80% H₂, 19% He, 1% CH₄"],
                    ["Interior", "Water, methane, ammonia ices"],
                    ["Core", "Rock and ice (Earth-sized)"],
                    ["Magnetic Field", "27× stronger than Earth's"],
                    ["Ring System", "5 main rings (faint)"],
                    ["Great Dark Spot", "Storm system (variable)"]
                ],
                exploration: [
                    ["Mathematical Discovery", "Predicted by Le Verrier 1846"],
                    ["Voyager 2", "Only spacecraft visit 1989"],
                    ["Hubble Space Telescope", "Atmospheric monitoring"],
                    ["Ground-based Telescopes", "Continuous observation"],
                    ["Future Missions", "Ice Giant Orbiter proposed"],
                    ["Triton Studies", "Potential future lander missions"]
                ],
                facts: [
                    "Neptune was the first planet discovered through mathematical prediction rather than observation, when Urbain Le Verrier calculated its position based on perturbations in Uranus's orbit.",
                    "The planet has the strongest winds in the solar system, reaching speeds of 2,100 km/h - faster than the speed of sound on Earth - despite receiving only 1/1000th of Earth's sunlight.",
                    "Neptune's largest moon, Triton, orbits backwards (retrograde) and is likely a captured Kuiper Belt object, gradually spiraling inward and will eventually be torn apart by tidal forces.",
                    "It takes Neptune 165 Earth years to complete one orbit around the Sun - it completed its first full orbit since discovery in 2011, exactly 165 years after its mathematical prediction."
                ]
            }
        };
        
        // Advanced system variables
        let currentZoom = 1;
        let currentRotationX = 0;
        let currentRotationY = 0;
        let animationSpeed = 1;
        let isPaused = false;
        let orbitsVisible = true;
        let asteroidsVisible = true;
        let cometsVisible = true;
        let focusedPlanet = null;
        
        // DOM elements
        const solarSystem = document.getElementById('solarSystem');
        const speedSlider = document.getElementById('speedSlider');
        const speedDisplay = document.getElementById('speedDisplay');
        const currentTarget = document.getElementById('currentTarget');
        const simSpeed = document.getElementById('simSpeed');
        const viewDistance = document.getElementById('viewDistance');
        const planetModal = document.getElementById('planetModal');
        const pausePlayBtn = document.getElementById('pausePlay');
        const loadingScreen = document.getElementById('loadingScreen');
        
        // Initialize system
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    setupEventListeners();
                    updateAnimationSpeed();
                    generateEnhancedStarField();
                    startRealTimeUpdates();
                }, 1000);
            }, 3000);
        });
        
        function setupEventListeners() {
            // Navigation controls
            document.getElementById('zoomIn').addEventListener('click', () => {
                currentZoom = Math.min(currentZoom * 1.5, 10);
                updateView();
                updateViewDistance();
            });
            
            document.getElementById('zoomOut').addEventListener('click', () => {
                currentZoom = Math.max(currentZoom / 1.5, 0.1);
                updateView();
                updateViewDistance();
            });
            
            document.getElementById('resetView').addEventListener('click', resetView);
            
            // Focus controls
            document.querySelectorAll('[data-focus]').forEach(btn => {
                btn.addEventListener('click', () => focusPlanet(btn.dataset.focus, btn));
            });
            
            // Display toggles
            document.getElementById('toggleOrbits').addEventListener('click', toggleOrbits);
            document.getElementById('toggleAsteroids').addEventListener('click', toggleAsteroids);
            document.getElementById('toggleComets').addEventListener('click', toggleComets);
            
            // Speed control
            speedSlider.addEventListener('input', handleSpeedChange);
            pausePlayBtn.addEventListener('click', togglePause);
            
            // Planet interactions
            document.querySelectorAll('[data-body]').forEach(body => {
                body.addEventListener('click', (e) => {
                    e.stopPropagation();
                    showPlanetDetails(body.dataset.body);
                });
            });
            
            // Modal controls
            document.getElementById('closeModal').addEventListener('click', closePlanetModal);
            planetModal.addEventListener('click', (e) => {
                if (e.target === planetModal) closePlanetModal();
            });
            
            // Enhanced mouse controls
            setupAdvancedMouseControls();
            
            // Keyboard shortcuts
            setupKeyboardControls();
        }
        
        function setupAdvancedMouseControls() {
            let isDragging = false;
            let lastMouseX = 0;
            let lastMouseY = 0;
            
            solarSystem.addEventListener('mousedown', (e) => {
                isDragging = true;
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
                document.body.style.cursor = 'grabbing';
            });
            
            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                
                const deltaX = e.clientX - lastMouseX;
                const deltaY = e.clientY - lastMouseY;
                
                currentRotationY += deltaX * 0.4;
                currentRotationX -= deltaY * 0.4;
                
                currentRotationX = Math.max(-80, Math.min(80, currentRotationX));
                
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
                
                updateView();
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
                document.body.style.cursor = 'grab';
            });
            
            // Enhanced wheel zoom with momentum
            let zoomMomentum = 0;
            document.addEventListener('wheel', (e) => {
                e.preventDefault();
                const zoomFactor = e.deltaY > 0 ? 0.85 : 1.18;
                currentZoom = Math.max(0.1, Math.min(10, currentZoom * zoomFactor));
                updateView();
                updateViewDistance();
            });
        }
        
        function setupKeyboardControls() {
            document.addEventListener('keydown', (e) => {
                switch(e.key.toLowerCase()) {
                    case ' ':
                        e.preventDefault();
                        togglePause();
                        break;
                    case 'r':
                        resetView();
                        break;
                    case 'escape':
                        closePlanetModal();
                        break;
                    case '+':
                    case '=':
                        currentZoom = Math.min(currentZoom * 1.3, 10);
                        updateView();
                        updateViewDistance();
                        break;
                    case '-':
                        currentZoom = Math.max(currentZoom / 1.3, 0.1);
                        updateView();
                        updateViewDistance();
                        break;
                    case 'o':
                        toggleOrbits();
                        break;
                    case 'a':
                        toggleAsteroids();
                        break;
                    case 'c':
                        toggleComets();
                        break;
                }
            });
        }
        
        function updateView() {
            solarSystem.style.transform = `
                scale(${currentZoom}) 
                rotateX(${currentRotationX}deg) 
                rotateY(${currentRotationY}deg)
            `;
        }
        
        function resetView() {
            currentZoom = 1;
            currentRotationX = 0;
            currentRotationY = 0;
            focusedPlanet = null;
            currentTarget.textContent = 'Solar System Overview';
            updateView();
            updateViewDistance();
            
            // Remove active focus buttons
            document.querySelectorAll('[data-focus]').forEach(btn => btn.classList.remove('active'));
        }
        
        function focusPlanet(planetId, button) {
            currentRotationX = 0;
            currentRotationY = 0;
            currentZoom = 4;
            focusedPlanet = planetId;
            currentTarget.textContent = celestialDatabase[planetId].name;
            updateView();
            updateViewDistance();
            
            // Update active button
            document.querySelectorAll('[data-focus]').forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
        }
        
        function handleSpeedChange(e) {
            animationSpeed = parseFloat(e.target.value);
            speedDisplay.textContent = animationSpeed.toFixed(1) + 'x';
            simSpeed.textContent = animationSpeed.toFixed(1) + 'x Real Time';
            updateAnimationSpeed();
        }
        
        function updateAnimationSpeed() {
            if (isPaused) return;
            
            const style = document.createElement('style');
            style.id = 'dynamic-animations';
            
            // Remove existing dynamic style
            const existing = document.getElementById('dynamic-animations');
            if (existing) existing.remove();
            
            style.textContent = `
                #mercury { animation-duration: ${15/animationSpeed}s; }
                #venus { animation-duration: ${25/animationSpeed}s; }
                #earth { animation-duration: ${35/animationSpeed}s; }
                #moon { animation-duration: ${8/animationSpeed}s; }
                #mars { animation-duration: ${50/animationSpeed}s; }
                #jupiter { animation-duration: ${80/animationSpeed}s; }
                #saturn { animation-duration: ${120/animationSpeed}s; }
                #uranus { animation-duration: ${180/animationSpeed}s; }
                #neptune { animation-duration: ${250/animationSpeed}s; }
                .asteroid { animation-duration: ${60/animationSpeed}s; }
                .comet { animation-duration: ${200/animationSpeed}s; }
            `;
            
            document.head.appendChild(style);
        }
        
        function togglePause() {
            isPaused = !isPaused;
            
            if (isPaused) {
                document.querySelectorAll('.celestial-body, .asteroid, .comet').forEach(el => {
                    el.style.animationPlayState = 'paused';
                });
                pausePlayBtn.innerHTML = '▶️ Play';
                pausePlayBtn.classList.add('active');
                simSpeed.textContent = 'Paused';
            } else {
                document.querySelectorAll('.celestial-body, .asteroid, .comet').forEach(el => {
                    el.style.animationPlayState = 'running';
                });
                pausePlayBtn.innerHTML = '⏸️ Pause';
                pausePlayBtn.classList.remove('active');
                simSpeed.textContent = animationSpeed.toFixed(1) + 'x Real Time';
                updateAnimationSpeed();
            }
        }
        
        function toggleOrbits() {
            orbitsVisible = !orbitsVisible;
            document.querySelectorAll('.orbit-path').forEach(orbit => {
                orbit.style.display = orbitsVisible ? 'block' : 'none';
            });
            document.getElementById('toggleOrbits').classList.toggle('active');
        }
        
        function toggleAsteroids() {
            asteroidsVisible = !asteroidsVisible;
            document.querySelectorAll('.asteroid').forEach(asteroid => {
                asteroid.style.display = asteroidsVisible ? 'block' : 'none';
            });
            document.getElementById('toggleAsteroids').classList.toggle('active');
        }
        
        function toggleComets() {
            cometsVisible = !cometsVisible;
            document.querySelectorAll('.comet').forEach(comet => {
                comet.style.display = cometsVisible ? 'block' : 'none';
            });
            document.getElementById('toggleComets').classList.toggle('active');
        }
        
        function updateViewDistance() {
            const distances = {
                0.1: '45 Billion km',
                0.2: '22.5 Billion km', 
                0.5: '9 Billion km',
                1: '4.5 Billion km',
                2: '2.25 Billion km',
                4: '1.125 Billion km',
                6: '750 Million km',
                8: '562.5 Million km',
                10: '450 Million km'
            };
            
            const closest = Object.keys(distances).reduce((prev, curr) => 
                Math.abs(curr - currentZoom) < Math.abs(prev - currentZoom) ? curr : prev
            );
            
            viewDistance.textContent = distances[closest];
        }
        
        function showPlanetDetails(bodyId) {
            const data = celestialDatabase[bodyId];
            if (!data) return;
            
            // Update modal content
            document.getElementById('modalTitle').textContent = data.name;
            
            // Update 3D showcase
            const planet3D = document.getElementById('planet3D');
            planet3D.style.background = data.background;
            
            // Update information sections
            updateInfoSection('physicalProps', data.physical);
            updateInfoSection('orbitalProps', data.orbital);
            updateInfoSection('composition', data.composition);
            updateInfoSection('exploration', data.exploration);
            
            // Update scientific discoveries
            const factsContainer = document.getElementById('fascinatingFacts');
            factsContainer.innerHTML = data.facts.map(fact => 
                `<p style="margin-bottom: 20px; line-height: 1.7; font-size: 15px; color: #e3f2fd;">${fact}</p>`
            ).join('');
            
            // Show modal with enhanced animation
            planetModal.style.display = 'block';
            
            const modalContent = planetModal.querySelector('.modal-content');
            modalContent.style.transform = 'translate(-50%, -50%) scale(0.7) rotateY(15deg)';
            modalContent.style.opacity = '0';
            
            setTimeout(() => {
                modalContent.style.transition = 'all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                modalContent.style.transform = 'translate(-50%, -50%) scale(1) rotateY(0deg)';
                modalContent.style.opacity = '1';
            }, 10);
        }
        
        function updateInfoSection(sectionId, data) {
            const section = document.getElementById(sectionId);
            section.innerHTML = data.map(([label, value]) => 
                `<li>
                    <span class="fact-label">${label}</span>
                    <span class="fact-value">${value}</span>
                </li>`
            ).join('');
        }
        
        function closePlanetModal() {
            const modalContent = planetModal.querySelector('.modal-content');
            modalContent.style.transition = 'all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            modalContent.style.transform = 'translate(-50%, -50%) scale(0.7) rotateY(-15deg)';
            modalContent.style.opacity = '0';
            
            setTimeout(() => {
                planetModal.style.display = 'none';
            }, 400);
        }
        
        function generateEnhancedStarField() {
            const starContainer = solarSystem;
            const starCount = 100;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                const starTypes = ['small', 'medium', 'large', 'giant'];
                const weights = [0.6, 0.25, 0.12, 0.03]; // Realistic distribution
                
                let starType = starTypes[0];
                const random = Math.random();
                let cumulative = 0;
                
                for (let j = 0; j < weights.length; j++) {
                    cumulative += weights[j];
                    if (random <= cumulative) {
                        starType = starTypes[j];
                        break;
                    }
                }
                
                star.className = `star ${starType}`;
                star.style.top = Math.random() * 100 + '%';
                star.style.left = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 6 + 's';
                star.style.animationDuration = (3 + Math.random() * 4) + 's';
                
                starContainer.appendChild(star);
            }
        }
        
        function startRealTimeUpdates() {
            setInterval(() => {
                // Update real-time data displays
                const now = new Date();
                
                // Simulate real-time orbital positions (simplified)
                const earthDays = (now.getTime() / (1000 * 60 * 60 * 24)) % 365.25;
                
                // Update active objects count based on visibility
                let objectCount = '8 Planets, 1 Moon';
                if (asteroidsVisible) objectCount += ', 12 Asteroids';
                if (cometsVisible) objectCount += ', 3 Comets';
                
                document.getElementById('activeObjects').textContent = objectCount;
                
                // Add subtle animation to live indicator
                const liveIndicator = document.querySelector('.live-indicator');
                if (liveIndicator) {
                    liveIndicator.style.transform = `scale(${1 + Math.sin(Date.now() / 1000) * 0.2})`;
                }
            }, 1000);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'970b94c5c18b547d',t:'MTc1NTQ1ODk3Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
